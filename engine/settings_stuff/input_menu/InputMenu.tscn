[gd_scene load_steps=8 format=3 uid="uid://rm4agmn53jkn"]

[ext_resource type="Script" path="res://settings_stuff/input_menu/InputMenu.gd" id="1"]
[ext_resource type="PackedScene" uid="uid://1x2baq8t6m42" path="res://settings_stuff/input_menu/input_mapper/InputMapper.tscn" id="2"]
[ext_resource type="Script" path="res://settings_stuff/input_menu/input_line/ActionList.gd" id="5"]
[ext_resource type="Texture2D" uid="uid://dhb2sspuobjkq" path="res://settings_stuff/input_menu/buttons/play.png" id="6"]
[ext_resource type="Texture2D" uid="uid://dnwfr0q3enuwu" path="res://settings_stuff/input_menu/buttons/play-pressed.png" id="7"]
[ext_resource type="Script" path="res://settings_stuff/input_menu/KeySelectMenu.gd" id="8"]

[sub_resource type="GDScript" id="1"]
script/source = "extends OptionButton

func initialize(input_mapper):
	for profile_index in input_mapper.profiles:
		var profile_name = input_mapper.profiles[profile_index].capitalize()
		add_item(profile_name, profile_index)
	item_selected.connect(input_mapper._on_ProfilesMenu_item_selected)
"

[node name="InputMenu" type="Control"]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1")

[node name="InputMapper" parent="." instance=ExtResource("2")]

[node name="Column" type="VBoxContainer" parent="."]
layout_mode = 0
anchor_right = 1.0
anchor_bottom = 1.0

[node name="Title" type="Label" parent="Column"]
layout_mode = 2
text = "Controls Menu"
uppercase = true

[node name="ProfilesMenu" type="OptionButton" parent="Column"]
layout_mode = 2
size_flags_horizontal = 4
toggle_mode = false
flat = true
script = SubResource("1")

[node name="Header" type="HBoxContainer" parent="Column"]
layout_mode = 2

[node name="Action" type="Label" parent="Column/Header"]
layout_mode = 2
size_flags_horizontal = 3
text = "Action"
uppercase = true

[node name="Control" type="Label" parent="Column/Header"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 1
text = "Control"
uppercase = true

[node name="Button" type="Label" parent="Column/Header"]
layout_mode = 2
size_flags_horizontal = 10
size_flags_vertical = 1
text = "Change"
uppercase = true

[node name="ScrollContainer" type="ScrollContainer" parent="Column"]
layout_mode = 2
size_flags_vertical = 3
mouse_filter = 0

[node name="ActionList" type="VBoxContainer" parent="Column/ScrollContainer"]
layout_mode = 2
size_flags_horizontal = 3
size_flags_vertical = 3
script = ExtResource("5")

[node name="PlayButton" type="TextureButton" parent="Column"]
layout_mode = 2
size_flags_horizontal = 4
size_flags_vertical = 4
texture_normal = ExtResource("6")
texture_pressed = ExtResource("7")
stretch_mode = 4

[node name="KeySelectMenu" type="Panel" parent="."]
visible = false
self_modulate = Color(1, 1, 1, 0.679569)
layout_mode = 0
anchor_right = 1.0
anchor_bottom = 1.0
script = ExtResource("8")

[node name="Label" type="Label" parent="KeySelectMenu"]
layout_mode = 0
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
size_flags_horizontal = 5
text = "Press a Key..."
uppercase = true

[connection signal="pressed" from="Column/PlayButton" to="." method="_on_PlayButton_pressed"]
